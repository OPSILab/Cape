{
  "type": "object",
  "title": "Service Instance",
  "description": "Technical, Service Provider and Data Controller Descriptions of actual instance where service is deployed.",
  "format": "categories",
  "required": ["serviceProvider", "cert", "serviceUrls", "dataController", "isBackendLinking"],
  "properties": {
    "serviceProvider": {
      "type": "object",
      "title": "Service Provider",
      "description": "Object describing Service Provider.",
      "required": ["businessId", "name", "address1", "address2", "postalcode", "city", "state", "country", "email", "phone", "jurisdiction"],
      "properties": {
        "businessId": {
          "type": "string",
          "title": "Business ID",
          "description": "Business ID for Service Provider, must match with the one configured in related Cape SDK instance,"
        },
        "name": {
          "type": "string",
          "title": "Name",
          "description": "Service Provider name."
        },
        "address1": {
          "type": "string",
          "title": "Address1",
          "description": "Principal address."
        },
        "address2": {
          "type": "string",
          "title": "Address2",
          "description": "Secondary address"
        },
        "postalcode": {
          "type": "string",
          "title": "Postal Code",
          "description": "Postal ZIP Code."
        },
        "city": {
          "type": "string",
          "title": "City",
          "description": "City."
        },
        "state": {
          "type": "string",
          "title": "State",
          "description": "State."
        },
        "country": {
          "type": "string",
          "title": "Country",
          "description": "Country."
        },
        "email": {
          "type": "string",
          "title": "Email",
          "description": "Email."
        },
        "phone": {
          "type": "string",
          "title": "Phone",
          "description": "Phone."
        },
        "jurisdiction": {
          "type": "string",
          "title": "Jurisdiction",
          "description": "Jurisdiction."
        }
      }
    },
    "cert": {
      "type": "object",
      "title": "Service Certificate",
      "description": "Service Certificate object (generated by Cape SDK).",
      "properties": {
        "x5u": {
          "type": "string",
          "title": "x5u",
          "description": "URL pointing to Service X509 Certificate."
        },
        "x5c": {
          "type": "array",
          "title": "x5c",
          "description": "BASE64URL encoding of Service X509 Certificate containing its Public Signing Key.",
          "format": "tabs",
          "items": {
            "type": "string",
            "title": "certificate"
          }
        }
      }
    },
    "serviceUrls": {
      "type": "object",
      "title": "Service Urls",
      "description": "Service Urls used for interacting with Cape.",
      "required": ["libraryDomain", "loginUri", "linkingRedirectUri", "objectionUri", "notificationUri"],
      "properties": {
        "libraryDomain": {
          "type": "string",
          "title": "Library Domain",
          "description": "Service's integration library url. Endpoint where Cape SDK is publicly reachable (http(s)://host:port)."
        },
        "loginUri": {
          "type": "string",
          "title": "Login URI",
          "description": "Url of Service Login Page where User will be redirected when start service linking from Operator (Cape User Dashboard)."
        },
        "linkingRedirectUri": {
          "type": "string",
          "title": "Linking Redirect URI",
          "description": "URI where ​User​ ​will​ ​be redirected​ ​after​ ​service has​ ​been​ ​linked.​ ​Used in​ ​service​ ​linking starting​ ​from​ ​the service."
        },
        "objectionUri": {
          "type": "string",
          "title": "Objection URI",
          "description": "URI for objection"
        },
        "notificationUri": {
          "type": "string",
          "title": "Notification URI",
          "description": "URI for subscribing notifications"
        }
      }
    },
    "dataController": {
      "type": "object",
      "title": "Data Controller",
      "description": "Object describing the Data Controler of the specific Service instance",
      "properties": {
        "piiController": {
          "type": "string",
          "title": "Controller Name",
          "description": "Name of Data Controller."
        },
        "onBehalf": {
          "type": "boolean",
          "title": "On Behalf",
          "description": "Name of entity for which Data Controller is acting."
        },
        "org": {
          "type": "string",
          "title": "Organization Name",
          "description": "Organization name."
        },
        "contact": {
          "type": "string",
          "title": "Contact",
          "description": "Contact Person."
        },
        "address": {
          "type": "string",
          "title": "Address",
          "description": "Address."
        },
        "email": {
          "type": "string",
          "title": "Email",
          "description": "Email Address."
        },
        "phone": {
          "type": "string",
          "title": "Phone",
          "description": "Phone"
        },
        "operatorName": {
          "type": "string",
          "title": "Operator Name",
          "description": "Name of the Operator is describing the Service."
        }
      }
    },
    "isBackendLinking": {
      "type": "boolean",
      "title": "isBackendLinking",
      "description": "Discriminates whether the Service linking is made only with backend interactions between SDK and Cape Server, thus without frontend redirects between Cape dashboard and the service.",
      "default": false
    }
  }
}
