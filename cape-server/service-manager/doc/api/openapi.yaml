{"openapi":"3.0.1","info":{"title":"CaPe Service Manager API","description":"Service Manager API used by CaPe compliant services.","version":"2.0"},"servers":[{"url":"http://localhost:8080/service-manager","description":"Generated server url"}],"tags":[{"name":"Service Linking","description":"Service Manager APIs to handle internal service linking operations."},{"name":"Operator Description","description":"Service Manager APIs to manage Operator Description."}],"paths":{"/api/v2/operatorDescriptions":{"post":{"tags":["Operator Description"],"summary":"Create a new Operator Description for CaPe.","operationId":"createOperatorDescription","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperatorDescription"}}},"required":true},"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Returns 201 Created with the created Operator Description.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperatorDescription"}}}}}}},"/api/v2/operatorDescriptions/{operatorId}/signToken":{"post":{"tags":["Operator Description"],"summary":"Sign the Authorisation Token paylod with the operator private key","operationId":"signAuthorisationToken","parameters":[{"name":"operatorId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorisationTokenPayload"}}},"required":true},"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Returns the .","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorisationTokenResponse"}}}}}}},"/api/v2/operatorDescriptions/{operatorId}":{"get":{"tags":["Operator Description"],"summary":"Get Operator Description for CaPe by Operator Id","operationId":"getOperatorDescription","parameters":[{"name":"operatorId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Returns the requested Operator Description.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperatorDescription"}}}}}},"delete":{"tags":["Operator Description"],"summary":"Delete Operator Description for CaPe by Operator Id.","operationId":"deleteOperatorDescription","parameters":[{"name":"operatorId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"Returns No Content.","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v2/slr/linkingSession/{code}":{"get":{"tags":["Service Linking"],"summary":"Get Linking Session by Code","description":"Used internally by Account and Service Manager to get LinkingSession corresponding to a generated code.","operationId":"getLinkingSessionByCode","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"No Liking Session found for input code","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkingSession"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Returns corresponding LinkingSession","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkingSession"}}}}}},"delete":{"tags":["Service Linking"],"summary":"Cancel Linking Session by Code","description":"Used internally by Account,Service Manager and Service SDK to cancel Linking Session. (e.g. whetever an error occurred in the Service Linking flow)","operationId":"cancelLinkingSessionByCode","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"No Liking Session found for input code","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"Session correctly cancelled","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/api/v2/slr/linkingSession/{code}/state/{newState}":{"put":{"tags":["Service Linking"],"summary":"Change Linking Session state by Code","description":"Used internally by Account and Service Manager to change LinkingSession state corresponding to a generated code.","operationId":"changeLinkingSessionStateByCode","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string"}},{"name":"newState","in":"path","required":true,"schema":{"type":"string","enum":["STARTED","SLR_ID_STORED","ACCOUNT_SIGNED_SLR","DOUBLE_SIGNED_SLR","FINAL_SLR_STORED","COMPLETED"]}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"No Liking Session found for input code","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkingSession"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"Returns LinkingSession with updated state","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LinkingSession"}}}}}}},"/api/v2/slr/accounts/{accountId}/linkingSessions":{"delete":{"tags":["Service Linking"],"summary":"Cancel Linking Session by Code","description":"Used internally by Account Manager to delete all Linking Session of an Account.","operationId":"deleteLinkingSessionByAccountId","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"No Liking Session found for input code","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"Session correctly cancelled","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/api/v2/slr/account/{accountId}/service/{serviceId}":{"get":{"tags":["Service Linking"],"summary":"Start Process of creating Service Link Record (from CaPe).","description":"Entrypoint for creating new Service Link Record with service.Will take Service Id to link with as parameter. Returns redirect to Service Login. This endpoint will start Service Linking process.","operationId":"startLinkingFromOperatorRedirectToService","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"forceLinking","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"302":{"description":"Returns Redirect to Service Login page for authentication.","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/v2/slr/service/{serviceId}/account/{accountId}":{"get":{"tags":["Service Linking"],"summary":"Start Process of creating Service Link Record.","description":"Entrypoint for creating new Service Link Record with service.Will take Service Id to link with as parameter. If forceLinkCode=true return code to finalize service link from service side (sdk). This endpoint will start Service Linking process.","operationId":"startLinkingFromServiceAfterOperatorLogin","parameters":[{"name":"accountId","in":"path","required":true,"schema":{"type":"string"}},{"name":"surrogateId","in":"query","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"returnUrl","in":"query","required":true,"schema":{"type":"string"}},{"name":"forceLinking","in":"query","required":false,"schema":{"type":"boolean","default":false}},{"name":"forceLinkCode","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"302":{"description":"Returns Redirect to Service Login page for authentication.","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/v2/slr/link":{"post":{"tags":["Service Linking"],"summary":"Inform Operator we're ready to continue creation of SLR.","description":"End point where Service Mgmnt POSTs after user has been authenticated by the Service in order to deliver surrogate id to Operator. This endpoint is part of Service Linking transaction and should not be called independently.","operationId":"linkService","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContinueLinkingRequest"}}},"required":true},"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Returns 201 CREATED and the created SLR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FinalStoreSlrResponse"}}}}}}},"/api/v2/slr/account/{accountOrSurrogateId}/services/{serviceId}/slr/{slrId}":{"put":{"tags":["Service Linking"],"summary":"Disables Active Service Link from Operator.","description":"Disables Active Service Link by issuing a new signed Service Link Status Record with Removed state.","operationId":"enableServiceLink","parameters":[{"name":"accountOrSurrogateId","in":"path","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"slrId","in":"path","required":true,"schema":{"type":"string"}},{"name":"requestFrom","in":"query","required":true,"schema":{"type":"string","enum":["Service","Operator"]}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Returns 201 CREATED and the created SLR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceLinkStatusRecordSigned"}}}}}},"delete":{"tags":["Service Linking"],"summary":"Disables Active Service Link from Operator.","description":"Disables Active Service Link by issuing a new signed Service Link Status Record with Removed state.","operationId":"disableServiceLink","parameters":[{"name":"accountOrSurrogateId","in":"path","required":true,"schema":{"type":"string"}},{"name":"serviceId","in":"path","required":true,"schema":{"type":"string"}},{"name":"slrId","in":"path","required":true,"schema":{"type":"string"}},{"name":"requestFrom","in":"query","required":true,"schema":{"type":"string","enum":["Service","Operator"]}}],"responses":{"409":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"default response","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Returns 201 CREATED and the created SLR","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceLinkStatusRecordSigned"}}}}}}}},"components":{"schemas":{"ApiSubError":{"required":["type"],"type":"object","properties":{"type":{"type":"string"}},"discriminator":{"propertyName":"type"}},"ErrorResponse":{"type":"object","properties":{"status":{"type":"string","enum":["100 CONTINUE","101 SWITCHING_PROTOCOLS","102 PROCESSING","103 CHECKPOINT","200 OK","201 CREATED","202 ACCEPTED","203 NON_AUTHORITATIVE_INFORMATION","204 NO_CONTENT","205 RESET_CONTENT","206 PARTIAL_CONTENT","207 MULTI_STATUS","208 ALREADY_REPORTED","226 IM_USED","300 MULTIPLE_CHOICES","301 MOVED_PERMANENTLY","302 FOUND","302 MOVED_TEMPORARILY","303 SEE_OTHER","304 NOT_MODIFIED","305 USE_PROXY","307 TEMPORARY_REDIRECT","308 PERMANENT_REDIRECT","400 BAD_REQUEST","401 UNAUTHORIZED","402 PAYMENT_REQUIRED","403 FORBIDDEN","404 NOT_FOUND","405 METHOD_NOT_ALLOWED","406 NOT_ACCEPTABLE","407 PROXY_AUTHENTICATION_REQUIRED","408 REQUEST_TIMEOUT","409 CONFLICT","410 GONE","411 LENGTH_REQUIRED","412 PRECONDITION_FAILED","413 PAYLOAD_TOO_LARGE","413 REQUEST_ENTITY_TOO_LARGE","414 URI_TOO_LONG","414 REQUEST_URI_TOO_LONG","415 UNSUPPORTED_MEDIA_TYPE","416 REQUESTED_RANGE_NOT_SATISFIABLE","417 EXPECTATION_FAILED","418 I_AM_A_TEAPOT","419 INSUFFICIENT_SPACE_ON_RESOURCE","420 METHOD_FAILURE","421 DESTINATION_LOCKED","422 UNPROCESSABLE_ENTITY","423 LOCKED","424 FAILED_DEPENDENCY","425 TOO_EARLY","426 UPGRADE_REQUIRED","428 PRECONDITION_REQUIRED","429 TOO_MANY_REQUESTS","431 REQUEST_HEADER_FIELDS_TOO_LARGE","451 UNAVAILABLE_FOR_LEGAL_REASONS","500 INTERNAL_SERVER_ERROR","501 NOT_IMPLEMENTED","502 BAD_GATEWAY","503 SERVICE_UNAVAILABLE","504 GATEWAY_TIMEOUT","505 HTTP_VERSION_NOT_SUPPORTED","506 VARIANT_ALSO_NEGOTIATES","507 INSUFFICIENT_STORAGE","508 LOOP_DETECTED","509 BANDWIDTH_LIMIT_EXCEEDED","510 NOT_EXTENDED","511 NETWORK_AUTHENTICATION_REQUIRED"]},"timestamp":{"type":"string","format":"date-time"},"message":{"type":"string"},"debugMessage":{"type":"string"},"cause":{"type":"string"},"subErrors":{"type":"array","items":{"$ref":"#/components/schemas/ApiSubError"}}}},"Algorithm":{"type":"object","properties":{"name":{"type":"string"},"requirement":{"type":"string","enum":["REQUIRED","RECOMMENDED","OPTIONAL"]}}},"Base64":{"type":"object"},"Base64URL":{"type":"object"},"Cert":{"type":"object","properties":{"x5u":{"type":"string"},"x5c":{"type":"array","items":{"type":"string"}}}},"KeyType":{"type":"object","properties":{"value":{"type":"string"},"requirement":{"type":"string","enum":["REQUIRED","RECOMMENDED","OPTIONAL"]}}},"KeyUse":{"type":"object","properties":{"value":{"type":"string"}}},"OperatorDescription":{"required":["operatorId","operatorUrls"],"type":"object","properties":{"operatorId":{"type":"string"},"serviceProvider":{"$ref":"#/components/schemas/ServiceProvider"},"operatorServiceDescriptionVersion":{"type":"string"},"supportedProfiles":{"type":"array","items":{"type":"string","enum":["Contract","Consenting","3rd party re-use","Notification","Objection"]}},"cert":{"$ref":"#/components/schemas/Cert"},"keyPair":{"$ref":"#/components/schemas/RSAKey"},"operatorUrls":{"$ref":"#/components/schemas/OperatorUrls"},"createdOnDate":{"type":"string","format":"date-time"},"createdByUserId":{"type":"string"}}},"OperatorUrls":{"required":["domain","linkingRedirectUri","linkingUri"],"type":"object","properties":{"domain":{"type":"string"},"linkingUri":{"type":"string"},"linkingRedirectUri":{"type":"string"}}},"OtherPrimesInfo":{"type":"object","properties":{"factorCRTExponent":{"$ref":"#/components/schemas/Base64URL"},"factorCRTCoefficient":{"$ref":"#/components/schemas/Base64URL"},"primeFactor":{"$ref":"#/components/schemas/Base64URL"}}},"RSAKey":{"type":"object","properties":{"keyStore":{"type":"object","properties":{"type":{"type":"string"},"provider":{"type":"object","additionalProperties":{"type":"string"}}}},"private":{"type":"boolean"},"modulus":{"$ref":"#/components/schemas/Base64URL"},"publicExponent":{"$ref":"#/components/schemas/Base64URL"},"privateExponent":{"$ref":"#/components/schemas/Base64URL"},"firstFactorCRTExponent":{"$ref":"#/components/schemas/Base64URL"},"secondPrimeFactor":{"$ref":"#/components/schemas/Base64URL"},"secondFactorCRTExponent":{"$ref":"#/components/schemas/Base64URL"},"firstPrimeFactor":{"$ref":"#/components/schemas/Base64URL"},"firstCRTCoefficient":{"$ref":"#/components/schemas/Base64URL"},"otherPrimes":{"type":"array","items":{"$ref":"#/components/schemas/OtherPrimesInfo"}},"requiredParams":{"type":"object","additionalProperties":{"type":"object"}},"algorithm":{"$ref":"#/components/schemas/Algorithm"},"keyID":{"type":"string"},"keyType":{"$ref":"#/components/schemas/KeyType"},"keyUse":{"$ref":"#/components/schemas/KeyUse"},"x509CertThumbprint":{"$ref":"#/components/schemas/Base64URL"},"x509CertSHA256Thumbprint":{"$ref":"#/components/schemas/Base64URL"},"parsedX509CertChain":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"subjectX500Principal":{"type":"object","properties":{"name":{"type":"string"},"encoded":{"type":"array","items":{"type":"string","format":"byte"}}}},"issuerX500Principal":{"type":"object","properties":{"name":{"type":"string"},"encoded":{"type":"array","items":{"type":"string","format":"byte"}}}},"signature":{"type":"array","items":{"type":"string","format":"byte"}},"basicConstraints":{"type":"integer","format":"int32"},"version":{"type":"integer","format":"int32"},"issuerDN":{"type":"object","properties":{"name":{"type":"string"}}},"subjectDN":{"type":"object","properties":{"name":{"type":"string"}}},"serialNumber":{"type":"integer"},"tbscertificate":{"type":"array","items":{"type":"string","format":"byte"}},"extendedKeyUsage":{"type":"array","items":{"type":"string"}},"sigAlgName":{"type":"string"},"notBefore":{"type":"string","format":"date-time"},"notAfter":{"type":"string","format":"date-time"},"subjectAlternativeNames":{"type":"array","items":{"type":"array","items":{"type":"object"}}},"issuerAlternativeNames":{"type":"array","items":{"type":"array","items":{"type":"object"}}},"sigAlgParams":{"type":"array","items":{"type":"string","format":"byte"}},"sigAlgOID":{"type":"string"},"issuerUniqueID":{"type":"array","items":{"type":"boolean"}},"subjectUniqueID":{"type":"array","items":{"type":"boolean"}},"keyUsage":{"type":"array","items":{"type":"boolean"}},"criticalExtensionOIDs":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"nonCriticalExtensionOIDs":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"encoded":{"type":"array","items":{"type":"string","format":"byte"}},"publicKey":{"type":"object","properties":{"encoded":{"type":"array","items":{"type":"string","format":"byte"}},"format":{"type":"string"},"algorithm":{"type":"string"}}}}}},"x509CertChain":{"type":"array","items":{"$ref":"#/components/schemas/Base64"}},"keyOperations":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["sign","verify","encrypt","decrypt","wrapKey","unwrapKey","deriveKey","deriveBits"]}},"x509CertURL":{"type":"string","format":"uri"}}},"ServiceProvider":{"type":"object","properties":{"businessId":{"type":"string"},"name":{"type":"string"},"address1":{"type":"string"},"address2":{"type":"string"},"postalcode":{"type":"string"},"city":{"type":"string"},"state":{"type":"string"},"country":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"jurisdiction":{"type":"string"}}},"AuthorisationTokenResponse":{"required":["auth_token","cr_id"],"type":"object","properties":{"cr_id":{"type":"string"},"auth_token":{"type":"string"}}},"AuthorisationTokenPayload":{"type":"object","properties":{"iss":{"type":"string"},"cnf":{"$ref":"#/components/schemas/AuthorisationTokenPayloadPopKid"},"aud":{"type":"array","items":{"type":"string"}},"exp":{"type":"string","format":"date-time"},"nbf":{"type":"string","format":"date-time"},"iat":{"type":"string","format":"date-time"},"jti":{"type":"string"},"cr_id":{"type":"string"}}},"AuthorisationTokenPayloadPopKid":{"type":"object","properties":{"kid":{"type":"string"}}},"LinkingSession":{"type":"object","properties":{"code":{"type":"string"},"state":{"type":"string","enum":["STARTED","SLR_ID_STORED","ACCOUNT_SIGNED_SLR","DOUBLE_SIGNED_SLR","FINAL_SLR_STORED","COMPLETED"]},"accountId":{"type":"string"},"serviceId":{"type":"string"},"surrogateId":{"type":"string"},"startedAt":{"type":"string","format":"date-time"}}},"FinalStoreSlrResponse":{"required":["code","data"],"type":"object","properties":{"code":{"type":"string"},"data":{"$ref":"#/components/schemas/LinkingResponseData"}}},"JOSEObjectType":{"type":"object","properties":{"type":{"type":"string"}}},"JWK":{"type":"object","properties":{"keyStore":{"type":"object","properties":{"type":{"type":"string"},"provider":{"type":"object","additionalProperties":{"type":"string"}}}},"private":{"type":"boolean"},"algorithm":{"$ref":"#/components/schemas/Algorithm"},"keyID":{"type":"string"},"keyType":{"$ref":"#/components/schemas/KeyType"},"keyUse":{"$ref":"#/components/schemas/KeyUse"},"x509CertThumbprint":{"$ref":"#/components/schemas/Base64URL"},"x509CertSHA256Thumbprint":{"$ref":"#/components/schemas/Base64URL"},"parsedX509CertChain":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"subjectX500Principal":{"type":"object","properties":{"name":{"type":"string"},"encoded":{"type":"array","items":{"type":"string","format":"byte"}}}},"issuerX500Principal":{"type":"object","properties":{"name":{"type":"string"},"encoded":{"type":"array","items":{"type":"string","format":"byte"}}}},"signature":{"type":"array","items":{"type":"string","format":"byte"}},"basicConstraints":{"type":"integer","format":"int32"},"version":{"type":"integer","format":"int32"},"issuerDN":{"type":"object","properties":{"name":{"type":"string"}}},"subjectDN":{"type":"object","properties":{"name":{"type":"string"}}},"serialNumber":{"type":"integer"},"tbscertificate":{"type":"array","items":{"type":"string","format":"byte"}},"extendedKeyUsage":{"type":"array","items":{"type":"string"}},"sigAlgName":{"type":"string"},"notBefore":{"type":"string","format":"date-time"},"notAfter":{"type":"string","format":"date-time"},"subjectAlternativeNames":{"type":"array","items":{"type":"array","items":{"type":"object"}}},"issuerAlternativeNames":{"type":"array","items":{"type":"array","items":{"type":"object"}}},"sigAlgParams":{"type":"array","items":{"type":"string","format":"byte"}},"sigAlgOID":{"type":"string"},"issuerUniqueID":{"type":"array","items":{"type":"boolean"}},"subjectUniqueID":{"type":"array","items":{"type":"boolean"}},"keyUsage":{"type":"array","items":{"type":"boolean"}},"criticalExtensionOIDs":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"nonCriticalExtensionOIDs":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"encoded":{"type":"array","items":{"type":"string","format":"byte"}},"publicKey":{"type":"object","properties":{"encoded":{"type":"array","items":{"type":"string","format":"byte"}},"format":{"type":"string"},"algorithm":{"type":"string"}}}}}},"requiredParams":{"type":"object","additionalProperties":{"type":"object"}},"x509CertChain":{"type":"array","items":{"$ref":"#/components/schemas/Base64"}},"keyOperations":{"uniqueItems":true,"type":"array","items":{"type":"string","enum":["sign","verify","encrypt","decrypt","wrapKey","unwrapKey","deriveKey","deriveBits"]}},"x509CertURL":{"type":"string","format":"uri"}}},"JWSAlgorithm":{"type":"object","properties":{"name":{"type":"string"},"requirement":{"type":"string","enum":["REQUIRED","RECOMMENDED","OPTIONAL"]}}},"JWSHeader":{"type":"object","properties":{"customParams":{"type":"object","additionalProperties":{"type":"object"}},"parsedBase64URL":{"$ref":"#/components/schemas/Base64URL"},"jwk":{"$ref":"#/components/schemas/JWK"},"algorithm":{"$ref":"#/components/schemas/JWSAlgorithm"},"keyID":{"type":"string"},"x509CertThumbprint":{"$ref":"#/components/schemas/Base64URL"},"x509CertSHA256Thumbprint":{"$ref":"#/components/schemas/Base64URL"},"x509CertChain":{"type":"array","items":{"$ref":"#/components/schemas/Base64"}},"x509CertURL":{"type":"string","format":"uri"},"includedParams":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"jwkurl":{"type":"string","format":"uri"},"type":{"$ref":"#/components/schemas/JOSEObjectType"},"contentType":{"type":"string"},"criticalParams":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"LinkingResponseData":{"required":["slr","ssr"],"type":"object","properties":{"slr":{"$ref":"#/components/schemas/ServiceLinkRecordDoubleSigned"},"ssr":{"$ref":"#/components/schemas/ServiceLinkStatusRecordSigned"}}},"ServiceLinkRecordDoubleSigned":{"required":["payload","signatures"],"type":"object","properties":{"payload":{"$ref":"#/components/schemas/ServiceLinkRecordPayload"},"signatures":{"type":"array","items":{"$ref":"#/components/schemas/ServiceLinkRecordSignature"}},"serviceLinkStatuses":{"type":"array","items":{"$ref":"#/components/schemas/ServiceLinkStatusRecordSigned"}}}},"ServiceLinkRecordPayload":{"required":["iat","link_id","operator_id","operator_key","service_description_version","service_id","service_name","service_uri","surrogate_id","version"],"type":"object","properties":{"iat":{"type":"string","format":"date-time"},"version":{"type":"string"},"link_id":{"type":"string"},"operator_id":{"type":"string"},"service_id":{"type":"string"},"service_uri":{"type":"string"},"service_name":{"type":"string"},"pop_key":{"$ref":"#/components/schemas/ServicePopKey"},"service_description_version":{"type":"string"},"surrogate_id":{"type":"string"},"operator_key":{"$ref":"#/components/schemas/RSAKey"},"cr_keys":{"type":"array","items":{"$ref":"#/components/schemas/RSAKey"}}}},"ServiceLinkRecordSignature":{"required":["header","protected","signature"],"type":"object","properties":{"header":{"$ref":"#/components/schemas/JWSHeader"},"signature":{"$ref":"#/components/schemas/Base64URL"},"protected":{"$ref":"#/components/schemas/Base64URL"}}},"ServiceLinkStatusRecordPayload":{"required":["iat","prev_record_id","record_id","sl_status","slr_id","surrogate_id","version"],"type":"object","properties":{"iat":{"type":"string","format":"date-time"},"version":{"type":"string"},"record_id":{"type":"string"},"surrogate_id":{"type":"string"},"slr_id":{"type":"string"},"sl_status":{"type":"string","enum":["Active","Removed"]},"prev_record_id":{"type":"string"}}},"ServiceLinkStatusRecordSigned":{"required":["header","payload","protected","signature"],"type":"object","properties":{"header":{"$ref":"#/components/schemas/JWSHeader"},"payload":{"$ref":"#/components/schemas/ServiceLinkStatusRecordPayload"},"signature":{"$ref":"#/components/schemas/Base64URL"},"protected":{"$ref":"#/components/schemas/Base64URL"}}},"ServicePopKey":{"required":["jwk","operator_id","service_id","surrogate_id"],"type":"object","properties":{"operator_id":{"type":"string"},"service_id":{"type":"string"},"surrogate_id":{"type":"string"},"jwk":{"$ref":"#/components/schemas/RSAKey"}}},"ContinueLinkingRequest":{"required":["code","service_id","surrogate_id","type"],"type":"object","properties":{"code":{"type":"string"},"service_id":{"type":"string"},"surrogate_id":{"type":"string"},"type":{"type":"string"}},"discriminator":{"propertyName":"type"}}},"securitySchemes":{"bearer-key":{"type":"http","scheme":"bearer","bearerFormat":"token"}}}}